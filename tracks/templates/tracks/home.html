<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Головна</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-neutral-950 text-neutral-100">

<!-- Навбар -->
<nav class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
    <a href="/" class="text-xl font-bold">Main Beats</a>
    <div class="space-x-4 text-sm">
        <a href="/catalog/" class="text-neutral-300 hover:text-white">Каталог</a>
        <a href="/order/" class="px-3 py-1 rounded-lg bg-orange-500 text-neutral-900 font-semibold hover:bg-orange-400">
            Замовити трек під ключ
        </a>
    </div>
</nav>

<!-- Герой -->
<header class="max-w-6xl mx-auto px-4 py-10">
    <h1 class="text-4xl font-extrabold tracking-tight">Купити нові треки для артистів</h1>
    <p class="mt-2 text-neutral-400">Слухай демки, тицяй “Замовити” — домовляємось про ліцензію або кастом.</p>
    <div class="mt-6 flex gap-3">
        <a href="/catalog/" class="px-4 py-2 rounded-xl bg-white text-neutral-900 font-semibold">Каталог</a>
        <a href="/order/" class="px-4 py-2 rounded-xl bg-orange-500 text-neutral-900 font-semibold">Кастомний трек</a>
    </div>
</header>

<!-- Featured -->
<section class="max-w-6xl mx-auto px-4 pb-8">
    <div class="flex items-center justify-between mb-4">
        <h2 class="text-2xl font-bold">Featured</h2>
        <a href="/catalog/" class="text-sm text-neutral-400 hover:text-white">Весь каталог →</a>
    </div>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for t in featured %}
        <article class="bg-neutral-900/60 border border-neutral-800 rounded-2xl overflow-hidden">
            <div class="aspect-video bg-black/40">
                <iframe class="w-full h-full" src="{{ t.embed_url }}" title="{{ t.title|escape }}" frameborder="0"
                        allowfullscreen></iframe>
            </div>
            <div class="p-4">
                <h3 class="text-lg font-semibold">
                    <a href="{% url 'track_detail' slug=t.slug %}" class="hover:underline">
                        {{ t.title }}
                    </a>
                </h3>
                <!-- ЖАНРИ (нове) -->
                <div class="mt-2 flex flex-wrap gap-2">
                    {% for g in t.genres.all %}
                    <a href="/catalog/?genre={{ g.slug }}"
                       class="text-xs px-2 py-1 rounded-full bg-neutral-800 border border-neutral-700 hover:border-neutral-500">
                        {{ g.name }}
                    </a>
                    {% empty %}{% endfor %}
                </div>

                <!-- Кнопка Замовити (залишаємо як була) -->
                <div class="mt-3">
                    <a href="/order/?track={{ t.id }}"
                       class="inline-block px-3 py-1.5 rounded-lg bg-orange-500 text-neutral-900 font-medium hover:bg-orange-400">
                        Замовити
                    </a>
                </div>
            </div>
        </article>
        {% empty %}
        <p class="text-neutral-400">Поки немає обраних треків.</p>
        {% endfor %}
    </div>
</section>

<!-- Нові -->
<section class="max-w-6xl mx-auto px-4 pb-12">
    <h2 class="text-2xl font-bold mb-4">Нові</h2>
    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for t in latest %}
        <article class="bg-neutral-900/60 border border-neutral-800 rounded-2xl overflow-hidden">
            <div class="aspect-video bg-black/40">
                <iframe class="w-full h-full" src="{{ t.embed_url }}" title="{{ t.title|escape }}" frameborder="0"
                        allowfullscreen></iframe>
            </div>
            <div class="p-4">
                <h3 class="text-lg font-semibold">
                    <a href="{% url 'track_detail' slug=t.slug %}" class="hover:underline">{{ t.title }}</a>
                </h3>

                <!-- ЖАНРИ -->
                <div class="mt-2 flex flex-wrap gap-2">
                    {% for g in t.genres.all %}
                    <a href="/catalog/?genre={{ g.slug }}"
                       class="text-xs px-2 py-1 rounded-full bg-neutral-800 border border-neutral-700 hover:border-neutral-500">
                        {{ g.name }}
                    </a>
                    {% empty %}{% endfor %}
                </div>

                <!-- КНОПКА -->
                <div class="mt-3">
                    <a href="/order/?track={{ t.id }}"
                       class="inline-block px-3 py-1.5 rounded-lg bg-orange-500 text-neutral-900 font-medium hover:bg-orange-400">
                        Замовити
                    </a>
                </div>
            </div>
        </article>
        {% endfor %}
    </div>
</section>

<!-- Інфо-блок -->
<section class="max-w-6xl mx-auto px-4 pb-16">
    <div class="grid md:grid-cols-3 gap-6">
        <div class="p-5 rounded-2xl border border-neutral-800 bg-neutral-900/60">
            <h3 class="font-semibold">Як це працює</h3>
            <p class="text-neutral-400 text-sm mt-2">Обираєш трек → лишаєш заявку → узгоджуємо пакет
                (неексклюзив/ексклюзив/ексклюзив+ STEMS) → я відправляю файли та ліцензію. Демонстраційні версії на
                сайті згенеровано ШІ</p>
        </div>
        <div class="p-5 rounded-2xl border border-neutral-800 bg-neutral-900/60">
            <h3 class="font-semibold">Пакети</h3>
            <ul class="text-neutral-400 text-sm mt-2 space-y-1">
                <li>Неексклюзив — WAV + права, трек лишається на моєму каналі</li>
                <li>Ексклюзив — WAV + права, я ховаю трек у себе</li>
                <li>Ексклюзив+ — те ж саме + STEMS</li>
            </ul>
        </div>
        <div class="p-5 rounded-2xl border border-neutral-800 bg-neutral-900/60">
            <h3 class="font-semibold">Контакти</h3>
            <p class="text-neutral-400 text-sm mt-2">Питання? Пиши у форму або в TG.</p>
            <a href="/order/"
               class="inline-block mt-3 px-3 py-1.5 rounded-lg bg-orange-500 text-neutral-900 font-medium">Замовити
                кастом</a>
        </div>
    </div>
</section>
</body>
</html>
